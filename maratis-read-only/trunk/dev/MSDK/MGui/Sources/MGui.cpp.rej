--- trunk/dev/MSDK/MGui/Sources/MGui.cpp	(revision 126)
+++ trunk/dev/MSDK/MGui/Sources/MGui.cpp	(working copy)
@@ -28,7 +28,7 @@
 //========================================================================
 
 
-#include <MLoaders/MDevILLoader.h>
+//#include <MLoaders/MDevILLoader.h>
 #include "../Includes/MGui.h"
 
 
@@ -49,7 +49,14 @@
 	render->loadIdentity();
 }
 
+imageLoadFunc MImageLoadFunc;
 
+void setImageLoader(imageLoadFunc func)
+{
+  MImageLoadFunc = func;
+}
+
+
 // MGui
 MGui::MGui(void):
 m_render(NULL)
@@ -108,7 +115,8 @@
 	}
 
 	MImage image;
-	if(M_loadImage(filename, &image))
+	
+	if(m_imageLoader.loadData(filename, &image))
 	{
 		MGuiTexture * texture = new MGuiTexture();
 
